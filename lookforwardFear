local VapeLib = loadstring(game:HttpGet('https://raw.githubusercontent.com/Qing-Yun-Dev/UI/Main/Vape.lua'))()
local player = game.Players.LocalPlayer

local Window = VapeLib:Window('Survive in Area 51', Color3.fromRGB(44, 120, 224))
local Main = Window:Tab('Weapons')
local Main2 = Window:Tab('Auto get Weapons')
local Main3 = Window:Tab('Visual')
local Main4 = Window:Tab('Badges')

local weapons = {
    "AWP",
    "M1014",
    "M14",
    "Desert Eagle",
    "M4A1",
    "R870",
    "RayGun",
    "MP5k",
    "AK-47",
    "DB Shotgun",
    "AN-94",
    "G36C",
    "M16A2/M203",
    "P90",
    "SVD",
    "Colt Anaconda",
    "Flamethrower"
}

local autoPickups = {}

for _, weaponName in ipairs(weapons) do
    Main:Button(weaponName, function()
        local weapon = workspace.Weapons:FindFirstChild(weaponName)
        if weapon and weapon:FindFirstChild("Hitbox") and player.Character then
            local hrp = player.Character:FindFirstChild("HumanoidRootPart")
            if hrp then
                firetouchinterest(hrp, weapon.Hitbox, 0)
                task.wait()
                firetouchinterest(hrp, weapon.Hitbox, 1)
            end
        end
    end)
end

for _, weaponName in ipairs(weapons) do
    autoPickups[weaponName] = false
    Main2:Toggle(weaponName, false, function(state)
        autoPickups[weaponName] = state
    end)
end

local function pickupWeapon(weaponName)
    if not autoPickups[weaponName] then return end
    local weapon = workspace.Weapons:FindFirstChild(weaponName)
    if weapon and weapon:FindFirstChild("Hitbox") and player.Character then
        local hrp = player.Character:FindFirstChild("HumanoidRootPart")
        if hrp then
            firetouchinterest(hrp, weapon.Hitbox, 0)
            task.wait()
            firetouchinterest(hrp, weapon.Hitbox, 1)
        end
    end
end

player.CharacterAdded:Connect(function()
    task.wait(0.5)
    for weaponName, _ in pairs(autoPickups) do
        pickupWeapon(weaponName)
    end
end)

workspace.Weapons.ChildAdded:Connect(function(child)
    if child:IsA("Model") and child:FindFirstChild("Hitbox") then
        pickupWeapon(child.Name)
    end
end)

local Killers = workspace:WaitForChild("Killers")
local highlightEnabled = false

local function addHighlight(obj)
    if not obj:FindFirstChildWhichIsA("Highlight") then
        local h = Instance.new("Highlight")
        h.Adornee = obj
        h.FillColor = Color3.fromRGB(255, 0, 0)
        h.OutlineColor = Color3.fromRGB(255, 0, 0)
        h.Parent = obj
    end
end

local function removeHighlight(obj)
    local h = obj:FindFirstChildWhichIsA("Highlight")
    if h then
        h:Destroy()
    end
end

Main3:Toggle("Highlight Killers", false, function(state)
    highlightEnabled = state
    for _, v in ipairs(Killers:GetChildren()) do
        if highlightEnabled then
            addHighlight(v)
        else
            removeHighlight(v)
        end
    end
end)

Killers.ChildAdded:Connect(function(v)
    task.wait(0.5)
    if highlightEnabled then
        addHighlight(v)
    end
end)

local badges = {
    "ExecutionRoom",
    "TheUltimateSecret",
    "TheWayOut",
    "HelpfulKillers",
    "AtomicBomb",
    "CleanerTwo"
}

local badgesFolder = workspace:WaitForChild("AREA51"):WaitForChild("Badges")

for _, badgeName in ipairs(badges) do
    Main4:Button("Instant "..badgeName.." Badge", function()
        local badge = badgesFolder:FindFirstChild(badgeName)
        if badge and badge:FindFirstChild("Hitbox") and player.Character then
            local hrp = player.Character:FindFirstChild("HumanoidRootPart")
            if hrp then
                firetouchinterest(hrp, badge.Hitbox, 0)
                task.wait()
                firetouchinterest(hrp, badge.Hitbox, 1)
            end
        end
    end)
end

loadstring(game:HttpGet('https://raw.githubusercontent.com/Qing-Yun-Dev/UI/Main/Open.lua'))()
